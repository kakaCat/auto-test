# AIåœºæ™¯æ‰§è¡Œå‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨ç¤ºä¾‹

æœ¬æ–‡æ¡£å±•ç¤ºå¦‚ä½•ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·æ¥æ‰§è¡ŒAIåœºæ™¯è°ƒç”¨çš„å®Œæ•´æµç¨‹ã€‚

## å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬åœºæ™¯æ‰§è¡Œ

```bash
# æ‰§è¡Œåœºæ™¯1ï¼Œç”¨æˆ·æè¿°ä¸º"æ³¨å†Œæ–°ç”¨æˆ·"
./scenario execute 1 "æ³¨å†Œæ–°ç”¨æˆ·ï¼Œé‚®ç®±æ˜¯ john@example.comï¼Œå¯†ç æ˜¯ 123456"

# æ‰§è¡Œåœºæ™¯2ï¼Œå¸¦åˆå§‹å‚æ•°
./scenario execute 2 "æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯" --params '{"user_id": 123}'

# æ‰§è¡Œåœºæ™¯3ï¼Œæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
./scenario execute 3 "åˆ›å»ºè®¢å•å¹¶æ”¯ä»˜" --verbose
```

### 2. æŸ¥è¯¢æ‰§è¡ŒçŠ¶æ€

```bash
# æŸ¥è¯¢ç‰¹å®šæ‰§è¡Œçš„çŠ¶æ€
./scenario status exec_20241201_143022_1

# ä»¥JSONæ ¼å¼æ˜¾ç¤ºçŠ¶æ€
./scenario status exec_20241201_143022_1 --format json
```

### 3. æŸ¥çœ‹æ‰§è¡Œå†å²

```bash
# æŸ¥çœ‹æœ€è¿‘10æ¡æ‰§è¡Œå†å²
./scenario history

# æŸ¥çœ‹æœ€è¿‘20æ¡æ‰§è¡Œå†å²
./scenario history --limit 20

# ä»¥JSONæ ¼å¼æ˜¾ç¤ºå†å²
./scenario history --format json
```

### 4. æŸ¥çœ‹ä»£ç†çŠ¶æ€

```bash
# æŸ¥çœ‹AIä»£ç†å½“å‰çŠ¶æ€
./scenario agent-status

# æ˜¾ç¤ºè¯¦ç»†çš„ä»£ç†çŠ¶æ€ä¿¡æ¯
./scenario agent-status --verbose
```

### 5. å–æ¶ˆæ‰§è¡Œ

```bash
# å–æ¶ˆå½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡
./scenario cancel exec_20241201_143022_1
```

## å®Œæ•´ä½¿ç”¨æµç¨‹ç¤ºä¾‹

### åœºæ™¯1ï¼šç”¨æˆ·æ³¨å†Œæµç¨‹

```bash
# 1. æ‰§è¡Œç”¨æˆ·æ³¨å†Œåœºæ™¯
./scenario execute 1 "æ³¨å†Œæ–°ç”¨æˆ·ï¼Œé‚®ç®±æ˜¯ alice@example.comï¼Œç”¨æˆ·åæ˜¯ aliceï¼Œå¯†ç æ˜¯ password123"

# è¾“å‡ºç¤ºä¾‹ï¼š
# ğŸš€ å¼€å§‹æ‰§è¡Œåœºæ™¯ 1...
# ğŸ“ ç”¨æˆ·æè¿°: æ³¨å†Œæ–°ç”¨æˆ·ï¼Œé‚®ç®±æ˜¯ alice@example.comï¼Œç”¨æˆ·åæ˜¯ aliceï¼Œå¯†ç æ˜¯ password123
# 
# ==================================================
# 
# ğŸ“Š æ‰§è¡Œç»“æœæ‘˜è¦
# ==================================================
# çŠ¶æ€: âœ… completed
# æ‰§è¡ŒID: exec_20241201_143022_1
# åœºæ™¯ID: 1
# æˆåŠŸæ­¥éª¤: 3
# å¤±è´¥æ­¥éª¤: 0
# æ€»æ‰§è¡Œæ—¶é—´: 2.45ç§’
# 
# ğŸ“‹ æ‰§è¡Œæ­¥éª¤
# ------------------------------
# 1. âœ… éªŒè¯é‚®ç®±æ ¼å¼ (API 101)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 0.12ç§’
# 
# 2. âœ… æ£€æŸ¥ç”¨æˆ·åå¯ç”¨æ€§ (API 102)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 0.89ç§’
# 
# 3. âœ… åˆ›å»ºç”¨æˆ·è´¦æˆ· (API 103)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 1.44ç§’

# 2. æŸ¥è¯¢åˆšæ‰çš„æ‰§è¡ŒçŠ¶æ€
./scenario status exec_20241201_143022_1
```

### åœºæ™¯2ï¼šç”µå•†è´­ç‰©æµç¨‹

```bash
# 1. æ‰§è¡Œè´­ç‰©åœºæ™¯ï¼Œå¸¦åˆå§‹å‚æ•°
./scenario execute 5 "ç”¨æˆ·è´­ä¹°å•†å“" --params '{
  "user_id": 123,
  "product_id": 456,
  "quantity": 2,
  "payment_method": "credit_card"
}' --verbose

# è¾“å‡ºç¤ºä¾‹ï¼š
# ğŸš€ å¼€å§‹æ‰§è¡Œåœºæ™¯ 5...
# ğŸ“ ç”¨æˆ·æè¿°: ç”¨æˆ·è´­ä¹°å•†å“
# âš™ï¸  åˆå§‹å‚æ•°: {"user_id": 123, "product_id": 456, "quantity": 2, "payment_method": "credit_card"}
# 
# ==================================================
# 
# ğŸ“Š æ‰§è¡Œç»“æœæ‘˜è¦
# ==================================================
# çŠ¶æ€: âœ… completed
# æ‰§è¡ŒID: exec_20241201_143155_5
# åœºæ™¯ID: 5
# æˆåŠŸæ­¥éª¤: 5
# å¤±è´¥æ­¥éª¤: 0
# æ€»æ‰§è¡Œæ—¶é—´: 4.23ç§’
# 
# ğŸ”§ å‚æ•°å¢å¼ºç»“æœ
# ------------------------------
#   user_id: 123
#   product_id: 456
#   quantity: 2
#   payment_method: credit_card
#   order_id: ORD_20241201_143155
#   total_amount: 299.98
#   shipping_address: ç”¨æˆ·é»˜è®¤åœ°å€
# 
# ğŸ“‹ æ‰§è¡Œæ­¥éª¤
# ------------------------------
# 1. âœ… éªŒè¯ç”¨æˆ·èº«ä»½ (API 201)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 0.45ç§’
#    è¾“å…¥å‚æ•°: {"user_id": 123}
#    è¾“å‡ºç»“æœ: {"valid": true, "user_name": "Alice"}
# 
# 2. âœ… æ£€æŸ¥å•†å“åº“å­˜ (API 202)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 0.67ç§’
#    è¾“å…¥å‚æ•°: {"product_id": 456, "quantity": 2}
#    è¾“å‡ºç»“æœ: {"available": true, "stock": 50, "price": 149.99}
# 
# 3. âœ… åˆ›å»ºè®¢å• (API 203)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 1.23ç§’
#    è¾“å…¥å‚æ•°: {"user_id": 123, "product_id": 456, "quantity": 2, "total_amount": 299.98}
#    è¾“å‡ºç»“æœ: {"order_id": "ORD_20241201_143155", "status": "created"}
# 
# 4. âœ… å¤„ç†æ”¯ä»˜ (API 204)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 1.56ç§’
#    è¾“å…¥å‚æ•°: {"order_id": "ORD_20241201_143155", "payment_method": "credit_card", "amount": 299.98}
#    è¾“å‡ºç»“æœ: {"payment_id": "PAY_20241201_143156", "status": "success"}
# 
# 5. âœ… æ›´æ–°åº“å­˜ (API 205)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 0.32ç§’
#    è¾“å…¥å‚æ•°: {"product_id": 456, "quantity": 2}
#    è¾“å‡ºç»“æœ: {"new_stock": 48, "updated": true}
```

### åœºæ™¯3ï¼šå¤„ç†æ‰§è¡Œå¤±è´¥çš„æƒ…å†µ

```bash
# 1. æ‰§è¡Œä¸€ä¸ªå¯èƒ½å¤±è´¥çš„åœºæ™¯
./scenario execute 8 "è½¬è´¦æ“ä½œï¼Œä»è´¦æˆ·Aè½¬è´¦1000å…ƒåˆ°è´¦æˆ·B"

# è¾“å‡ºç¤ºä¾‹ï¼ˆå¤±è´¥æƒ…å†µï¼‰ï¼š
# ğŸš€ å¼€å§‹æ‰§è¡Œåœºæ™¯ 8...
# ğŸ“ ç”¨æˆ·æè¿°: è½¬è´¦æ“ä½œï¼Œä»è´¦æˆ·Aè½¬è´¦1000å…ƒåˆ°è´¦æˆ·B
# 
# ==================================================
# 
# ğŸ“Š æ‰§è¡Œç»“æœæ‘˜è¦
# ==================================================
# çŠ¶æ€: âŒ failed
# æ‰§è¡ŒID: exec_20241201_144022_8
# åœºæ™¯ID: 8
# æˆåŠŸæ­¥éª¤: 2
# å¤±è´¥æ­¥éª¤: 1
# æ€»æ‰§è¡Œæ—¶é—´: 1.89ç§’
# é”™è¯¯æ‘˜è¦: è´¦æˆ·ä½™é¢ä¸è¶³ï¼Œæ— æ³•å®Œæˆè½¬è´¦
# 
# ğŸ“‹ æ‰§è¡Œæ­¥éª¤
# ------------------------------
# 1. âœ… éªŒè¯æºè´¦æˆ· (API 301)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 0.34ç§’
# 
# 2. âœ… éªŒè¯ç›®æ ‡è´¦æˆ· (API 302)
#    çŠ¶æ€: success
#    æ‰§è¡Œæ—¶é—´: 0.28ç§’
# 
# 3. âŒ æ‰§è¡Œè½¬è´¦ (API 303)
#    çŠ¶æ€: failed
#    æ‰§è¡Œæ—¶é—´: 1.27ç§’
#    é”™è¯¯: è´¦æˆ·ä½™é¢ä¸è¶³ï¼Œå½“å‰ä½™é¢ï¼š500å…ƒï¼Œè½¬è´¦é‡‘é¢ï¼š1000å…ƒ

# 2. æŸ¥çœ‹æ‰§è¡Œå†å²ï¼Œäº†è§£æœ€è¿‘çš„æ‰§è¡Œæƒ…å†µ
./scenario history --limit 5

# è¾“å‡ºç¤ºä¾‹ï¼š
# ğŸ“š æ‰§è¡Œå†å² (æœ€è¿‘ 5 æ¡)
# ================================================================================
# åºå· æ‰§è¡ŒID                    åœºæ™¯ID   çŠ¶æ€         æˆåŠŸ/å¤±è´¥   æ‰§è¡Œæ—¶é—´
# --------------------------------------------------------------------------------
# 1    exec_20241201_144022_8    8        failed       2/1        1.89s
# 2    exec_20241201_143155_5    5        completed    5/0        4.23s
# 3    exec_20241201_143022_1    1        completed    3/0        2.45s
# 4    exec_20241201_142845_3    3        partial_success 4/1     3.67s
# 5    exec_20241201_142234_2    2        completed    2/0        1.23s
```

## é«˜çº§ç”¨æ³•

### 1. ä½¿ç”¨é…ç½®æ–‡ä»¶

åˆ›å»ºé…ç½®æ–‡ä»¶ `config.json`ï¼š

```json
{
  "agent": {
    "auto_enhance_parameters": true,
    "stop_on_first_failure": false,
    "enable_smart_recovery": true,
    "max_retry_attempts": 5,
    "timeout_seconds": 600
  },
  "output": {
    "format": "table",
    "show_details": true,
    "color_enabled": true
  },
  "logging": {
    "level": "INFO",
    "file": "scenario_execution.log"
  }
}
```

ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼š

```bash
# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ‰§è¡Œåœºæ™¯
./scenario --config config.json execute 1 "æµ‹è¯•åœºæ™¯"

# ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®åº“è¿æ¥
./scenario --database-url "mysql://user:pass@localhost:3306/testdb" execute 1 "æµ‹è¯•åœºæ™¯"
```

### 2. è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼Œæ˜¾ç¤ºè¯¦ç»†çš„æ‰§è¡Œä¿¡æ¯
./scenario --debug execute 1 "è°ƒè¯•æµ‹è¯•åœºæ™¯"

# å¯ç”¨è¯¦ç»†æ¨¡å¼
./scenario --verbose execute 1 "è¯¦ç»†æµ‹è¯•åœºæ™¯"
```

### 3. ä¸åŒè¾“å‡ºæ ¼å¼

```bash
# JSONæ ¼å¼è¾“å‡º
./scenario --format json execute 1 "JSONè¾“å‡ºæµ‹è¯•"

# ç®€å•æ ¼å¼è¾“å‡º
./scenario --format simple execute 1 "ç®€å•è¾“å‡ºæµ‹è¯•"

# è¡¨æ ¼æ ¼å¼è¾“å‡ºï¼ˆé»˜è®¤ï¼‰
./scenario --format table execute 1 "è¡¨æ ¼è¾“å‡ºæµ‹è¯•"
```

## å®é™…ä¸šåŠ¡åœºæ™¯ç¤ºä¾‹

### 1. ç”¨æˆ·ç®¡ç†åœºæ™¯

```bash
# ç”¨æˆ·æ³¨å†Œ
./scenario execute 1 "æ³¨å†Œæ–°ç”¨æˆ·ï¼Œé‚®ç®±ï¼šuser@example.comï¼Œæ‰‹æœºï¼š13800138000"

# ç”¨æˆ·ç™»å½•
./scenario execute 2 "ç”¨æˆ·ç™»å½•ï¼Œé‚®ç®±ï¼šuser@example.comï¼Œå¯†ç ï¼špassword123"

# ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
./scenario execute 3 "ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼Œç”¨æˆ·IDï¼š123ï¼Œæ–°æ‰‹æœºå·ï¼š13900139000"

# ç”¨æˆ·æ³¨é”€
./scenario execute 4 "æ³¨é”€ç”¨æˆ·è´¦æˆ·ï¼Œç”¨æˆ·IDï¼š123"
```

### 2. ç”µå•†ä¸šåŠ¡åœºæ™¯

```bash
# å•†å“ç®¡ç†
./scenario execute 10 "æ·»åŠ æ–°å•†å“ï¼Œåç§°ï¼šiPhone 15ï¼Œä»·æ ¼ï¼š5999ï¼Œåº“å­˜ï¼š100"

# è´­ç‰©è½¦æ“ä½œ
./scenario execute 11 "æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ï¼Œç”¨æˆ·IDï¼š123ï¼Œå•†å“IDï¼š456ï¼Œæ•°é‡ï¼š2"

# ä¸‹å•æµç¨‹
./scenario execute 12 "åˆ›å»ºè®¢å•å¹¶æ”¯ä»˜ï¼Œç”¨æˆ·IDï¼š123ï¼Œæ”¯ä»˜æ–¹å¼ï¼šæ”¯ä»˜å®"

# è®¢å•ç®¡ç†
./scenario execute 13 "æŸ¥è¯¢è®¢å•çŠ¶æ€ï¼Œè®¢å•IDï¼šORD_20241201_001"
```

### 3. é‡‘èä¸šåŠ¡åœºæ™¯

```bash
# è´¦æˆ·æ“ä½œ
./scenario execute 20 "å¼€æˆ·ï¼Œå®¢æˆ·å§“åï¼šå¼ ä¸‰ï¼Œèº«ä»½è¯ï¼š123456789012345678"

# è½¬è´¦æ“ä½œ
./scenario execute 21 "è½¬è´¦ï¼Œæºè´¦æˆ·ï¼š6222001234567890ï¼Œç›®æ ‡è´¦æˆ·ï¼š6222009876543210ï¼Œé‡‘é¢ï¼š1000"

# æŸ¥è¯¢ä½™é¢
./scenario execute 22 "æŸ¥è¯¢è´¦æˆ·ä½™é¢ï¼Œè´¦æˆ·å·ï¼š6222001234567890"
```

## é”™è¯¯å¤„ç†å’Œæ•…éšœæ’é™¤

### 1. å¸¸è§é”™è¯¯

```bash
# åœºæ™¯ä¸å­˜åœ¨
./scenario execute 999 "ä¸å­˜åœ¨çš„åœºæ™¯"
# é”™è¯¯ï¼šåœºæ™¯999ä¸å­˜åœ¨

# å‚æ•°æ ¼å¼é”™è¯¯
./scenario execute 1 "æµ‹è¯•" --params '{invalid json}'
# é”™è¯¯ï¼šå‚æ•°æ ¼å¼é”™è¯¯: Expecting property name enclosed in double quotes

# æ•°æ®åº“è¿æ¥å¤±è´¥
./scenario --database-url "mysql://wrong:wrong@localhost:3306/wrong" execute 1 "æµ‹è¯•"
# é”™è¯¯ï¼šä»£ç†åˆå§‹åŒ–å¤±è´¥: æ•°æ®åº“è¿æ¥å¤±è´¥
```

### 2. è°ƒè¯•æŠ€å·§

```bash
# ä½¿ç”¨è°ƒè¯•æ¨¡å¼æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
./scenario --debug execute 1 "è°ƒè¯•åœºæ™¯"

# æŸ¥çœ‹ä»£ç†çŠ¶æ€ï¼Œç¡®è®¤ç»„ä»¶æ˜¯å¦æ­£å¸¸
./scenario agent-status --verbose

# æŸ¥çœ‹æ‰§è¡Œå†å²ï¼Œåˆ†æå¤±è´¥æ¨¡å¼
./scenario history --limit 20 --format json
```

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **æ‰¹é‡æ“ä½œ**ï¼šå¯¹äºå¤§é‡ç›¸ä¼¼çš„åœºæ™¯æ‰§è¡Œï¼Œè€ƒè™‘ä½¿ç”¨è„šæœ¬æ‰¹é‡è°ƒç”¨
2. **å‚æ•°é¢„å¤„ç†**ï¼šæå‰å‡†å¤‡å¥½å¤æ‚çš„å‚æ•°ï¼Œé¿å…åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥è¿‡é•¿çš„JSON
3. **é…ç½®ä¼˜åŒ–**ï¼šæ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´è¶…æ—¶æ—¶é—´å’Œé‡è¯•æ¬¡æ•°
4. **æ—¥å¿—ç®¡ç†**ï¼šå®šæœŸæ¸…ç†æ‰§è¡Œæ—¥å¿—ï¼Œé¿å…å ç”¨è¿‡å¤šç£ç›˜ç©ºé—´

## é›†æˆåˆ°CI/CDæµç¨‹

```bash
#!/bin/bash
# è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ç¤ºä¾‹

set -e

echo "å¼€å§‹æ‰§è¡Œè‡ªåŠ¨åŒ–åœºæ™¯æµ‹è¯•..."

# æ‰§è¡Œå…³é”®ä¸šåŠ¡åœºæ™¯
scenarios=(1 2 3 5 8)

for scenario_id in "${scenarios[@]}"; do
    echo "æ‰§è¡Œåœºæ™¯ $scenario_id..."
    ./scenario execute $scenario_id "è‡ªåŠ¨åŒ–æµ‹è¯•åœºæ™¯ $scenario_id" --format json > "result_$scenario_id.json"
    
    # æ£€æŸ¥æ‰§è¡Œç»“æœ
    if grep -q '"final_status": "completed"' "result_$scenario_id.json"; then
        echo "âœ… åœºæ™¯ $scenario_id æ‰§è¡ŒæˆåŠŸ"
    else
        echo "âŒ åœºæ™¯ $scenario_id æ‰§è¡Œå¤±è´¥"
        exit 1
    fi
done

echo "æ‰€æœ‰åœºæ™¯æµ‹è¯•å®Œæˆï¼"
```

è¿™ä¸ªå‘½ä»¤è¡Œå·¥å…·æä¾›äº†å®Œæ•´çš„AIåœºæ™¯æ‰§è¡ŒåŠŸèƒ½ï¼Œæ”¯æŒç”¨æˆ·é€šè¿‡ç®€å•çš„å‘½ä»¤æ¥å®Œæˆå¤æ‚çš„ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚