# 前端文档生成标准规范

## 文档生成原则

### 核心原则
1. **面向用户和AI**: 文档专为用户使用和AI协助设计，不考虑开发者技术细节
2. **基于实际实现**: 所有内容必须基于当前已实现的功能，避免理想化描述
3. **一页一文档**: 一个页面（包括页面中的弹框、组件等）对应一个文档
4. **功能对齐**: 通过文档让用户和AI对齐内容、工作逻辑和工作内容

### 文档目标
- 帮助用户理解和使用系统
- 为AI提供准确的系统知识和工作指导
- 确保用户、AI、系统功能的完全对齐

### 文件生成规范 ⭐ **重要**
1. **约定一致性检查**: 生成文件前必须检查是否与现有项目约定一致
2. **临时文件夹策略**: 当生成的文件与约定不一致时，使用临时文件夹
   - **命名规范**: `temp-{功能名}-{日期}` (如: `temp-components-20240115`)
   - **使用场景**: 大量新文件生成、文件结构重构、实验性功能
   - **工作流程**: 临时文件夹生成 → 验证 → 移动到正确位置 → 清理
3. **避免混乱**: 不在现有目录中直接生成不符合约定的文件
4. **渐进式整合**: 通过临时文件夹实现平滑的文件组织重构

### 系统架构上下文
当前系统采用6层架构：
```
第6层: 需求管理 (/requirement-management) [✅已实现]
第5层: 用例场景管理 (/scenario-management) [✅已实现]
第4层: 调用流程 (Call Flows)
├─ 4a. API调用流程 (/workflow-orchestration + /designer) [✅已实现]
└─ 4b. 页面调用流程 (/page-call-flow) [🚧规划中]
第3层: 资源管理 (/api-management + /page-management) [✅已实现]
第2层: 系统管理 (/service-management) [✅已实现]
第1层: 仪表板 (/dashboard) [✅已实现]
```

## 07 文档写作方式（设计原则/规范/要求）

为统一前端“用户指南”体例，所有 `docs/frontend/user-guides/*.md` 采用“07方式”（源自《07 - 工作流设计器》）。可执行规范如下：

- 章节顺序（推荐）
  - 架构定位 → 功能概述 → 界面布局 → 交互与操作 → 页面弹框与抽屉 → 状态与数据流 → 事件与契约 → 数据模型 → 自测清单 → 常见问题

- 标题与编号
  - 一级标题：`# {编号} - {模块名}`（示例：`# 04 - API管理`）
  - 小节层级≤3，动宾式命名

- 架构定位
  - 6层架构ASCII图；说明 依赖下层/服务上层/核心作用

- 功能概述
  - 条目化能力清单，任务导向

- 界面布局
  - ASCII布局图 + 主要区域职责与交互要点

- 交互与操作
  - 常用操作分组（工具栏/编辑/视图/执行），可配示意

- 页面弹框与抽屉
  - 触发入口、字段与校验、禁用/加载、事件契约；位置在“交互与操作”之后
  - 归属规则：页面内触发的所有弹框/抽屉一律归属本页面文档，不单独成文；若为跨页复用的通用弹框，需在本页完整描述，同时在 `docs/frontend/shared-components.md` 登记并建立双向引用。
  - 例外说明：若弹框/抽屉具备独立路由（可直接访问），可在组件/路由文档扩展细节，但本页必须保留概述与跳转链接。
  - 落地要求：为每个弹框提供（1）触发入口（2）字段与校验（3）禁用/加载与提交逻辑（4）事件与契约（5）自测清单；在首次出现的操作步骤处加入“参见【页面弹框与抽屉】”交叉链接。

- 状态与数据流
  - 关键数据对象、来源、触发与刷新；字段归一化约定（如 `tags: string[] ⇆ string`）

- 事件与契约
  - 回调签名、入出参、错误语义（message/code/fieldErrors）与可观测性埋点

- 快捷操作与辅助
  - 网格/对齐/快捷键/响应式/空态与错误页

- 自测清单
  - 覆盖主干流程、边界条件、异常兜底、权限与可达性

- 文风与格式
  - 任务导向、图文并茂、Emoji强调、术语统一；代码/路径/命令用反引号

- 术语一致性
  - 系统/模块/API/用例/流程等采用固定译名，站内一致

参考实现：`/docs/frontend/user-guides/07-workflow-designer.md`

## 高质量文档编写标准（基于模板文档分析）

### 文档信息标准化

每个文档都应包含完整的文档信息区块：

```markdown
# [模块名称] - [文档类型]

> 本文档专为[目标用户]设计，提供[模块功能]的完整[内容类型]，包括[主要内容概述]。

## 📖 文档信息

- **模块名称**：[具体模块名称]
- **文档类型**：[用户指南/开发者文档/API文档等]
- **文档版本**：[版本号]
- **创建日期**：[YYYY-MM-DD]
- **最后更新**：[YYYY-MM-DD]
- **负责团队**：[团队名称]
- **主要受众**：[目标用户群体]
```

### 模块概述标准

**核心功能描述**：
- 使用项目符号列出核心功能，每项功能包含简短描述
- 突出技术特色和创新点
- 明确模块在系统中的定位和价值

**技术特色说明**：
- 列出关键技术栈和架构特点
- 强调技术优势和设计理念
- 提供技术实现的亮点

### 详细使用场景分析标准

**角色导向设计**：
- 为每个用户角色提供详细的使用场景
- 包含角色背景、典型工作流程、详细操作步骤
- 量化用户价值（如"提高效率50%以上"）

**流程图表达**：
```
操作流程可视化表达方式：
步骤1 → 步骤2 → 步骤3 → 结果
  ↓       ↓       ↓       ↓
详细说明 详细说明 详细说明 价值体现
```

### ASCII界面布局图标准

**布局图要求**：
- 使用ASCII字符绘制完整的界面布局
- 标注具体尺寸（如1920x1080）
- 包含所有主要功能区域
- 使用统一的符号系统（如📁📊🔍⚙️等）

**尺寸规范说明**：
```
页面布局尺寸规范 (基于1920x1080设计)
┌─────────────────────────────────────────────────────────────────────────────┐
│                        [区域名称] ([宽度]x[高度]px)                          │
│  [详细规范说明]                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│ [子区域1]([尺寸])    │                [子区域2]([尺寸])                      │
│ [规范说明]          │  [规范说明]                                            │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 设计规范标准化

**颜色系统**：
```
主色调系统
├─ 主色 (Primary)
│  ├─ 主色: #1890ff (品牌蓝)
│  ├─ 浅色: #40a9ff (悬停状态)
│  ├─ 深色: #096dd9 (激活状态)
│  └─ 极浅: #e6f7ff (背景色)
│
├─ 辅助色 (Secondary)
│  ├─ 成功: #52c41a (绿色)
│  ├─ 警告: #faad14 (橙色)
│  ├─ 错误: #f5222d (红色)
│  └─ 信息: #13c2c2 (青色)
```

**字体规范**：
```
字体系统
├─ 字体族
│  ├─ 中文: "PingFang SC", "Microsoft YaHei", "SimSun"
│  ├─ 英文: "Segoe UI", "Roboto", "Arial", sans-serif
│  └─ 代码: "Fira Code", "Consolas", "Monaco", monospace
│
├─ 字号层级
│  ├─ 特大标题: 24px / 1.35 (页面主标题)
│  ├─ 大标题: 20px / 1.4 (区块标题)
│  ├─ 中标题: 16px / 1.5 (卡片标题)
│  └─ 正文: 14px / 1.5 (正文内容)
```

### 交互流程详细描述标准

**流程可视化**：
- 使用箭头和步骤描述完整的操作流程
- 包含用户操作、系统响应、状态变化
- 提供详细的步骤说明和注意事项

**优化特性说明**：
- 列出每个功能的优化特性和技术亮点
- 包含性能优化、用户体验优化等方面
- 提供具体的技术实现细节

### 组件设计标准

**弹框设计规范**：
- 提供完整的弹框ASCII布局图
- 包含尺寸规范（如800x600）
- 详细描述字段配置、验证规则、交互逻辑
- 提供配置示例和代码片段

**组件层次结构**：
- 清晰的组件层次和职责划分
- 组件间的数据流和事件传递
- 可复用性和扩展性设计

### 技术实现标准

**代码示例**：
- 提供完整可运行的代码示例
- 包含JSON配置、API调用、组件使用等
- 代码注释清晰，格式规范

**API文档集成**：
- 详细的API接口文档
- 包含请求参数、响应格式、错误码
- 提供调用示例和测试用例

### 用户体验优化标准

**响应式设计**：
- 详细的响应式适配策略
- 不同设备的布局调整方案
- 交互方式的适配优化

**错误处理机制**：
- 完整的错误处理流程
- 用户友好的错误提示
- 错误恢复和容错机制

### 文档质量检查标准

**内容完整性**：
- 所有功能点都有详细说明
- 包含完整的操作流程和示例
- 提供故障排除和常见问题解答

**可用性验证**：
- 所有示例代码可直接运行
- 配置参数准确有效
- 操作步骤经过实际验证

**维护性要求**：
- 版本信息及时更新
- 变更记录清晰完整
- 文档结构便于维护和扩展

## 文档结构标准

### 目录组织
```
docs/frontend/
├── README.md                    # 文档导航中心
├── user-guides/                 # 👥 用户操作指南
│   ├── README.md               # 用户指南导航
│   ├── system-overview.md      # 系统架构总览（非页面）
│   ├── getting-started.md      # 快速入门指南（非页面）
│   ├── [page-name].md          # 具体页面文档
│   └── ...
├── ai-prompts/                  # 🤖 AI工作指南
│   ├── README.md               # AI提示词使用说明
│   ├── system-analysis.md      # 系统分析提示词
│   ├── user-assistance.md      # 用户协助提示词
│   └── ...
└── shared-components.md         # 共享组件说明
```

## 页面文档标准

### 文档命名规范
- **格式**: `[编号]-[页面功能名].md`
- **编号规则**: 按照系统菜单顺序使用两位数字编号（01-09）
- **示例**: 
  - `01-system-overview.md` → 系统概览文档
  - `02-getting-started.md` → 快速入门指南
  - `03-system-management.md` → 系统管理页面 (`/service-management`)
  - `04-api-management.md` → API管理页面 (`/api-management`)
  - `05-page-management.md` → 页面管理页面 (`/page-management`)
  - `06-page-call-flow.md` → 页面调用流程页面 (`/page-call-flow`)
  - `07-workflow-designer.md` → 工作流设计器页面 (`/designer`)

### 类别过滤原则（SystemTree）
- **API管理**：仅展示后端服务类别（`backend`）系统与模块
- **页面管理**：仅展示前端应用类别（`frontend`）系统与模块
- **系统管理**：支持“全部/后端/前端”类型筛选，按用户选择加载
 - 关联变更日志：[`2025-09-28 SystemTree 类别过滤原则补充`](../../frontend/docs/changelogs/2025-09-28-systemtree-category-filter.md)
  - `08-scenario-management.md` → 用例场景管理页面 (`/scenario-management`)
  - `09-requirement-management.md` → 需求管理页面 (`/requirement-management`)

### 文档编号对应关系
文档编号严格按照前端菜单顺序排列，确保文档排序与用户界面导航一致：

```
编号 | 文档名称                    | 对应页面路径              | 菜单位置
-----|----------------------------|--------------------------|----------
01   | system-overview.md         | 系统概览（非页面）        | 文档首页
02   | getting-started.md         | 快速入门（非页面）        | 文档导航
03   | system-management.md       | /service-management      | 系统管理
04   | api-management.md          | /api-management          | API管理
05   | page-management.md         | /page-management         | 页面管理
06   | page-call-flow.md          | /page-call-flow          | 页面调用流程
07   | workflow-designer.md       | /workflow-orchestration  | API调用流程
08   | scenario-management.md     | /scenario-management     | 用例场景管理
09   | requirement-management.md  | /requirement-management  | 需求管理
```

**编号规范说明**：
- 编号使用两位数字格式（01-09），便于排序和扩展
- 编号顺序严格按照前端路由配置中的菜单顺序
- 系统概览和快速入门作为特殊文档，排在功能页面之前
- 新增页面时，应在对应菜单位置插入相应编号

### 文档结构模板

```markdown
# [页面名称]页面交互文档

## 页面概述

[页面功能描述]是AI自动化测试系统第X层架构的[功能定位]，用于[主要用途]。页面提供了[核心功能概述]。

### 核心功能特性

1. **功能1**: 功能描述和作用
2. **功能2**: 功能描述和作用
3. **功能3**: 功能描述和作用
...

## 界面布局

### 整体结构
```
[ASCII界面布局图]
```

### 头部区域
- **页面标题**: "[页面标题]"
- **描述文本**: "[页面描述]"
- **操作按钮组**: 主要操作按钮说明

### 左侧面板（如有）
- **组件名称**: 功能说明

### 右侧面板（如有）
- **组件名称**: 功能说明

### 中间内容区域
- **主要内容**: 核心功能区域说明

## 核心功能

### 功能1: [功能名称]

#### 操作步骤
1. 步骤1描述
2. 步骤2描述
3. 步骤3描述

#### 配置示例
```json
{
  "示例配置": "具体配置内容"
}
```

### 功能2: [功能名称]
[按相同格式继续...]

## 操作流程

### 典型使用场景

#### 场景1: [场景名称]
```
操作流程:
步骤1 → 步骤2 → 步骤3 → 结果

详细说明:
- 步骤1: 具体操作说明
- 步骤2: 具体操作说明
- 步骤3: 具体操作说明
```

## 弹框和组件

### [弹框名称]对话框
- **触发方式**: 如何打开弹框
- **界面布局**: 弹框内容结构
- **操作步骤**: 详细操作流程
- **配置示例**: 具体配置内容

### [组件名称]组件
- **功能说明**: 组件的作用和功能
- **使用方法**: 如何使用该组件
- **配置选项**: 可配置的参数和选项

## 与其他模块的关系

### 数据来源
- 说明页面数据来自哪些其他模块

### 数据输出
- 说明页面数据如何被其他模块使用

### 功能协作
- 说明与其他页面的协作关系

## 最佳实践

### 操作建议
1. 建议1
2. 建议2
3. 建议3

### 注意事项
1. 注意事项1
2. 注意事项2
3. 注意事项3

## 常见问题

### Q1: 问题描述？
**A**: 解决方案说明

### Q2: 问题描述？
**A**: 解决方案说明

## 实现状态

**页面路径**: `/page-path`
**实现状态**: ✅ 已实现 / 🚧 规划中
**相关页面**: 关联的其他页面
```

## 内容要求标准

### 1. 保持原有优秀风格
- **ASCII界面布局图**: 每个页面都必须包含清晰的界面布局ASCII图
- **详细的操作步骤**: 提供完整的步骤指导，编号清晰
- **实用的配置示例**: 包含真实可用的JSON配置示例和代码块

### 2. 增加实际功能描述
- **系统级联配置方式**: 基于实际的6层架构体系（系统→模块→API/页面的级联选择）
- **完整的节点分类体系**: 涵盖所有实际存在的功能分类
- **准确的参数配置方法**: 详细的配置方法和验证规则

### 3. 符合文档组织规则
- **user-guides目录**: 面向最终用户的操作指南
- **页面交互文档**: 专注于页面操作流程和用户体验
- **实现状态标注**: 明确标注功能的实现状态（✅已实现/🚧规划中）

## AI提示词标准

### 文档结构模板

```markdown
# [功能模块]提示词

## 角色定义

你是AI自动化测试系统的[角色名称]，具备[能力描述]，能够[主要职责]。

## 系统架构知识库

### 6层架构体系
```
[完整的架构信息]
```

### 数据流向
```
[数据流向说明]
```

## [功能类型]提示词模板

### [场景类型]提示词
```
当用户[触发条件]时，请按以下结构回答：

1. **[步骤1名称]**
   - [具体要求]

2. **[步骤2名称]**
   - [具体要求]

[继续其他步骤...]
```

## 常用[功能]场景

### 场景1: [场景名称]
**用户问题**: "[典型问题]"

**回答模板**:
```
[标准回答格式和内容]
```

## 输出格式要求

### 结构化回答
- [格式要求]

### 内容要求
- [内容标准]

### 语言风格
- [语言要求]

## 质量标准

### [质量维度1]
- [具体标准]

### [质量维度2]
- [具体标准]
```

## 实现状态标注规范

### 状态标识
- **✅ 已实现**: 功能已完全实现并可正常使用
- **🚧 规划中**: 功能在规划阶段，尚未实现
- **⚠️ 部分实现**: 功能部分实现，存在限制
- **❌ 已废弃**: 功能已不再使用或计划移除

### 标注位置
- 在功能描述后立即标注实现状态
- 在页面路径说明中标注状态
- 在架构图中使用不同标识区分状态

## 内容质量要求

### 准确性要求
1. **基于实际功能**: 所有描述必须与当前系统实际功能一致
2. **避免理想化**: 不描述未实现或计划中的功能为已实现
3. **实时更新**: 随系统功能更新及时调整文档内容
4. **验证有效**: 所有配置示例和操作步骤必须可实际执行

### 实用性要求
1. **可操作性**: 提供具体可执行的操作步骤
2. **示例完整**: 配置示例必须完整且可直接使用
3. **问题预防**: 包含常见问题和注意事项
4. **最佳实践**: 提供经过验证的操作建议

### 用户体验要求
1. **语言友好**: 使用用户容易理解的语言
2. **结构清晰**: 使用标题、列表、代码块等格式
3. **视觉直观**: 包含ASCII图示和界面说明
4. **导航便利**: 提供清晰的文档间链接和导航

## 文档维护规范

### 更新触发条件
- 系统功能新增或修改
- 用户反馈问题或建议
- AI使用过程中发现的问题
- 定期的文档审查和优化

### 更新流程
1. **功能验证**: 确认系统功能的实际状态
2. **内容更新**: 基于实际功能更新文档内容
3. **格式检查**: 确保符合文档标准格式
4. **链接更新**: 更新相关的文档链接和引用

### 质量检查
- 内容准确性检查
- 格式规范性检查
- 链接有效性检查
- 用户体验评估

## 使用说明

### 对于文档创建者
1. 严格按照本标准创建文档
2. 优先使用模板和示例格式
3. 确保内容的准确性和实用性
4. 定期维护和更新文档内容

### 对于AI助手
1. 熟读并遵循本标准
2. 基于标准提供文档建议
3. 协助用户理解和使用文档
4. 反馈文档使用中的问题

### 对于用户
1. 按照文档导航查找所需信息
2. 遵循文档中的操作步骤
3. 参考最佳实践和注意事项
4. 及时反馈使用问题和建议

---

**标准版本**: v1.0  
**制定时间**: 2024年1月  
**适用范围**: AI自动化测试系统前端文档