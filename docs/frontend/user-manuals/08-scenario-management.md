# 08 - 测试API管理指南

## 文档信息

| 属性 | 值 |
|------|-----|
| 文档ID | DOC-UG-008 |
| 文档版本 | v1.0.0 |
| 创建时间 | 2025-09-30 |
| 更新时间 | 2025-09-30 |
| 文档负责人 | 前端团队 |
| 审核状态 | 待审核 |
| 适用版本 | v2.0.0+ |

## 模块概览

### 核心定位
测试API管理以“接口为中心”组织测试，围绕 API 接口进行测试用例的创建、参数配置、执行与结果分析，替代原“场景管理”能力，确保每个接口具备可维护、可回归的测试覆盖。

### 核心能力
- 用例创建与维护：基于接口定义创建 API 测试用例（正/负向）
- 参数与变量：支持参数集、环境变量、数据依赖与数据驱动
- 断言与校验：请求/响应断言、状态码/头/体校验
- 执行与监控：单用例执行、批量执行、并发控制与结果跟踪
- 用例组织：标签、创建人、状态、时间等维度筛选与管理
- 复用与版本：模板复用、参数保存/加载、版本备注与变更记录

### 与“场景管理”的差异
- 术语统一：取消“场景”概念，统一为“API测试用例”
- 维度收敛：以接口为域进行测试管理，不做跨接口编排
- 前端改造：列表、筛选、创建/编辑、执行入口均以接口为主

## 快速上手

### 1. 创建API测试用例
- 在 `API管理` 页面选择目标接口
- 进入“测试”入口，点击“新建用例”，填写名称、标签、说明
- 选择请求方法、路径、鉴权策略，配置请求参数与头信息

### 2. 配置参数与变量
- 选择/创建参数集（保存以便复用）
- 可绑定环境变量（如 `BASE_URL`、`TOKEN`）
- 支持数据驱动：从外部数据源或内置样例批量驱动

### 3. 设置断言与校验
- 状态码断言、响应时间阈值
- 响应头/体校验（JSONPath/正则/包含/相等等）
- 业务字段校验（如 `code === 0`，`message` 包含关键字）

### 4. 执行与结果
- 支持单用例/多用例批量执行
- 查看执行日志、请求/响应详情、断言结果
- 支持导出/分享报告，标记通过/失败与备注

### 5. 管理与筛选
- 维度：关键字、状态、标签、创建人、创建时间、是否保存参数
- 支持参数集保存与加载（如回归集、专项集）
- 可复制用例、编辑、删除、禁用/启用

## 前端页面要点（对齐实现）
- 列表筛选表单：`keyword`、`status`、`tags`、`createdBy`、`createdTimeRange`、`isParametersSaved`
- “创建人”下拉：支持远程搜索与本地去重回退（无用户系统也可用）
- 时间范围选择：`datetimerange`，格式 `YYYY-MM-DD HH:mm:ss`
- 执行入口：行操作支持“执行”“复制”“编辑”“删除”

## 迁移说明
- 原“用例场景管理指南”已统一迁移至本指南，旧术语不再使用
- 新增/修改的页面、组件与API请参照本指南约定的术语与交互

## 常见问题
- 无用户系统也能筛选“创建人”？支持：从列表数据中提取并去重
- 需要跨接口编排？建议使用工作流设计器；本模块仅面向接口用例

## 参考
- `04-api-management.md`：接口资源管理
- `07-workflow-designer.md`：流程编排（高级场景）