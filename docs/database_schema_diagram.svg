<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000" height="700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .table-box {
        fill: #f8f9fa;
        stroke: #2c3e50;
        stroke-width: 2;
        rx: 8;
      }
      .table-header {
        fill: #3498db;
        stroke: #2c3e50;
        stroke-width: 2;
        rx: 8 8 0 0;
      }
      .table-title {
        fill: white;
        font-family: 'Arial', sans-serif;
        font-size: 16px;
        font-weight: bold;
        text-anchor: middle;
      }
      .field-text {
        fill: #2c3e50;
        font-family: 'Arial', sans-serif;
        font-size: 12px;
      }
      .primary-key {
        fill: #e74c3c;
        font-weight: bold;
      }
      .foreign-key {
        fill: #f39c12;
        font-weight: bold;
      }
      .relationship-line {
        stroke: #e74c3c;
        stroke-width: 2;
        marker-end: url(#arrowhead);
      }
      .relationship-label {
        fill: #e74c3c;
        font-family: 'Arial', sans-serif;
        font-size: 11px;
        font-weight: bold;
      }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1000" height="700" fill="#ecf0f1"/>
  
  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" 
        style="font-family: Arial; font-size: 24px; font-weight: bold; fill: #2c3e50;">
    Auto-Test æ•°æ®åº“è¡¨å…³ç³»å›¾
  </text>
  
  <!-- system_categories Table -->
  <g id="system_categories">
    <rect class="table-box" x="50" y="80" width="280" height="320"/>
    <rect class="table-header" x="50" y="80" width="280" height="40"/>
    <text class="table-title" x="190" y="105">system_categories</text>
    
    <!-- Fields -->
    <text class="field-text primary-key" x="60" y="135">ğŸ”‘ id (INTEGER, PK, AUTO_INCREMENT)</text>
    <text class="field-text" x="60" y="155">code (TEXT, NOT NULL, UNIQUE)</text>
    <text class="field-text" x="60" y="175">name (TEXT, NOT NULL)</text>
    <text class="field-text" x="60" y="195">description (TEXT)</text>
    <text class="field-text" x="60" y="215">icon (TEXT)</text>
    <text class="field-text" x="60" y="235">color (TEXT)</text>
    <text class="field-text" x="60" y="255">enabled (INTEGER, DEFAULT 1)</text>
    <text class="field-text" x="60" y="275">order_index (INTEGER, DEFAULT 0)</text>
    <text class="field-text" x="60" y="295">created_at (DATETIME, DEFAULT NOW)</text>
    <text class="field-text" x="60" y="315">updated_at (DATETIME, DEFAULT NOW)</text>
    
    <!-- Indexes -->
    <text class="field-text" x="60" y="340" style="fill: #7f8c8d; font-style: italic;">ğŸ“Š ç´¢å¼•: code, enabled, order_index</text>
    <text class="field-text" x="60" y="360" style="fill: #27ae60; font-weight: bold;">âœ… å½“å‰ä½¿ç”¨ä¸­</text>
  </g>
  
  <!-- systems Table -->
  <g id="systems">
    <rect class="table-box" x="400" y="80" width="280" height="280"/>
    <rect class="table-header" x="400" y="80" width="280" height="40"/>
    <text class="table-title" x="540" y="105">systems</text>
    
    <!-- Fields -->
    <text class="field-text primary-key" x="410" y="135">ğŸ”‘ id (INTEGER, PK, AUTO_INCREMENT)</text>
    <text class="field-text" x="410" y="155">name (TEXT, NOT NULL, UNIQUE)</text>
    <text class="field-text" x="410" y="175">description (TEXT)</text>
    <text class="field-text" x="410" y="195">status (TEXT, DEFAULT 'active')</text>
    <text class="field-text" x="410" y="215">category (TEXT, DEFAULT 'backend')</text>
    <text class="field-text" x="410" y="235">created_at (TIMESTAMP, DEFAULT NOW)</text>
    <text class="field-text" x="410" y="255">updated_at (TIMESTAMP, DEFAULT NOW)</text>
    
    <!-- Data Info -->
    <text class="field-text" x="410" y="285" style="fill: #7f8c8d; font-style: italic;">ğŸ“Š æ•°æ®é‡: 8 æ¡è®°å½•</text>
    <text class="field-text" x="410" y="305" style="fill: #27ae60; font-weight: bold;">âœ… å½“å‰ä½¿ç”¨ä¸­</text>
  </g>
  
  <!-- modules Table -->
  <g id="modules">
    <rect class="table-box" x="750" y="80" width="220" height="320"/>
    <rect class="table-header" x="750" y="80" width="220" height="40"/>
    <text class="table-title" x="860" y="105">modules</text>
    
    <!-- Fields -->
    <text class="field-text primary-key" x="760" y="135">ğŸ”‘ id (INTEGER, PK, AUTO_INCREMENT)</text>
    <text class="field-text foreign-key" x="760" y="155">ğŸ”— system_id (INTEGER, FK)</text>
    <text class="field-text" x="760" y="175">name (TEXT, NOT NULL)</text>
    <text class="field-text" x="760" y="195">description (TEXT)</text>
    <text class="field-text" x="760" y="215">status (TEXT, DEFAULT 'active')</text>
    <text class="field-text" x="760" y="235">tags (TEXT)</text>
    <text class="field-text" x="760" y="255">path (TEXT, DEFAULT '/')</text>
    <text class="field-text" x="760" y="275">created_at (TIMESTAMP, DEFAULT NOW)</text>
    <text class="field-text" x="760" y="295">updated_at (TIMESTAMP, DEFAULT NOW)</text>
    
    <!-- Constraints -->
    <text class="field-text" x="760" y="320" style="fill: #7f8c8d; font-style: italic;">ğŸ”’ UNIQUE(system_id, name)</text>
    <text class="field-text" x="760" y="340" style="fill: #7f8c8d; font-style: italic;">ğŸ“Š æ•°æ®é‡: 10 æ¡è®°å½•</text>
    <text class="field-text" x="760" y="360" style="fill: #27ae60; font-weight: bold;">âœ… å½“å‰ä½¿ç”¨ä¸­</text>
  </g>
  
  <!-- Relationship: systems -> modules -->
  <line class="relationship-line" x1="680" y1="155" x2="750" y2="155"/>
  <text class="relationship-label" x="715" y="150">1:N</text>
  <text class="relationship-label" x="700" y="170" style="font-size: 10px;">ä¸€ä¸ªç³»ç»ŸåŒ…å«å¤šä¸ªæ¨¡å—</text>
  
  <!-- Deleted Tables Section -->
  <g id="deleted-tables">
    <rect x="50" y="450" width="920" height="200" fill="#ffebee" stroke="#e57373" stroke-width="2" rx="8"/>
    <text x="70" y="475" style="font-family: Arial; font-size: 18px; font-weight: bold; fill: #c62828;">
      ğŸ—‘ï¸ å·²åˆ é™¤çš„å†—ä½™è¡¨
    </text>
    
    <text x="70" y="500" style="font-family: Arial; font-size: 14px; fill: #d32f2f;">
      âŒ management_systems - ä¸ systems è¡¨åŠŸèƒ½é‡å¤
    </text>
    <text x="70" y="520" style="font-family: Arial; font-size: 14px; fill: #d32f2f;">
      âŒ service_modules - ä¸ modules è¡¨åŠŸèƒ½é‡å¤
    </text>
    <text x="70" y="540" style="font-family: Arial; font-size: 14px; fill: #d32f2f;">
      âŒ api_interfaces - æœªåœ¨ä»£ç ä¸­ä½¿ç”¨ï¼Œæ•°æ®ä¸ºç©º
    </text>
    <text x="70" y="560" style="font-family: Arial; font-size: 14px; fill: #d32f2f;">
      âŒ test_scenarios - æœªåœ¨ä»£ç ä¸­ä½¿ç”¨ï¼Œæ•°æ®ä¸ºç©º
    </text>
    <text x="70" y="580" style="font-family: Arial; font-size: 14px; fill: #d32f2f;">
      âŒ test_executions - æœªåœ¨ä»£ç ä¸­ä½¿ç”¨ï¼Œæ•°æ®ä¸ºç©º
    </text>
    
    <text x="70" y="610" style="font-family: Arial; font-size: 12px; fill: #666; font-style: italic;">
      åˆ é™¤åŸå› : è¿™äº›è¡¨è¦ä¹ˆä¸ç°æœ‰è¡¨åŠŸèƒ½é‡å¤ï¼Œè¦ä¹ˆå®Œå…¨æœªè¢«ä½¿ç”¨ä¸”æ— æ•°æ®ï¼Œåˆ é™¤åæé«˜äº†æ•°æ®åº“çš„ç»´æŠ¤æ€§å’Œæ€§èƒ½ã€‚
    </text>
  </g>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="400" y="420" width="280" height="120" fill="#f8f9fa" stroke="#bdc3c7" stroke-width="1" rx="5"/>
    <text x="540" y="440" text-anchor="middle" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: #2c3e50;">
      å›¾ä¾‹è¯´æ˜
    </text>
    
    <text x="410" y="460" style="font-family: Arial; font-size: 12px; fill: #e74c3c; font-weight: bold;">
      ğŸ”‘ ä¸»é”® (Primary Key)
    </text>
    <text x="410" y="480" style="font-family: Arial; font-size: 12px; fill: #f39c12; font-weight: bold;">
      ğŸ”— å¤–é”® (Foreign Key)
    </text>
    <text x="410" y="500" style="font-family: Arial; font-size: 12px; fill: #e74c3c;">
      â†’ ä¸€å¯¹å¤šå…³ç³» (1:N)
    </text>
    <text x="410" y="520" style="font-family: Arial; font-size: 12px; fill: #27ae60; font-weight: bold;">
      âœ… å½“å‰ä½¿ç”¨çš„è¡¨
    </text>
  </g>
  
  <!-- Database Info -->
  <text x="50" y="680" style="font-family: Arial; font-size: 12px; fill: #7f8c8d;">
    æ•°æ®åº“æ–‡ä»¶: auto_test.db | æœ€åæ›´æ–°: 2024å¹´ | è¡¨æ€»æ•°: 3 (å·²ä¼˜åŒ–)
  </text>
</svg>