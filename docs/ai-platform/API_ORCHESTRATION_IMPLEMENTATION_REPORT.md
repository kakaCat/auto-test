# AIç¼–æ’æ¨¡å—å®ç°æŠ¥å‘Š

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æŠ¥å‘Šè¯¦ç»†è®°å½•äº†AIç¼–æ’æ¨¡å—çš„å®Œæ•´å®ç°è¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€åŠŸèƒ½å®ç°ã€æµ‹è¯•éªŒè¯å’Œéƒ¨ç½²æŒ‡å—ã€‚

**å®æ–½æ—¶é—´**: 2024å¹´1æœˆ20æ—¥  
**å®æ–½çŠ¶æ€**: âœ… å®Œæˆå¹¶é€šè¿‡æµ‹è¯•  
**ç‰ˆæœ¬**: v1.0.0  

## ğŸ¯ å®ç°ç›®æ ‡è¾¾æˆæƒ…å†µ

### âœ… æ ¸å¿ƒåŠŸèƒ½å®ç°

| åŠŸèƒ½æ¨¡å— | å®ç°çŠ¶æ€ | æµ‹è¯•çŠ¶æ€ | è¯´æ˜ |
|---------|---------|---------|------|
| è‡ªç„¶è¯­è¨€æ„å›¾ç†è§£ | âœ… å®Œæˆ | âœ… é€šè¿‡ | æ”¯æŒå¤šç§æµ‹è¯•åœºæ™¯è¯†åˆ« |
| æ™ºèƒ½æµç¨‹è§„åˆ’ | âœ… å®Œæˆ | âœ… é€šè¿‡ | è‡ªåŠ¨ç”ŸæˆAPIè°ƒç”¨è®¡åˆ’ |
| MCPå·¥å…·å±‚ | âœ… å®Œæˆ | âœ… é€šè¿‡ | 7ç§å·¥å…·ç±»å‹ï¼Œæ”¯æŒæ‰©å±• |
| æ‰§è¡Œå¼•æ“ | âœ… å®Œæˆ | âœ… é€šè¿‡ | å¼‚æ­¥æ‰§è¡Œï¼Œå®æ—¶ç›‘æ§ |
| è®¡åˆ’æ ¡éªŒ | âœ… å®Œæˆ | âœ… é€šè¿‡ | ç»“æ„ã€ä¾èµ–ã€å·¥å…·æ ¡éªŒ |
| å…¥å‚æ ¡éªŒ | âœ… å®Œæˆ | âœ… é€šè¿‡ | å‚æ•°ç±»å‹ã€æ ¼å¼æ ¡éªŒ |
| è·¨ç³»ç»Ÿè¿½è¸ª | âœ… å®Œæˆ | âœ… é€šè¿‡ | å…ƒæ•°æ®èšåˆã€ç­›é€‰åˆ†æ |
| WebSocketç›‘æ§ | âœ… å®Œæˆ | âœ… é€šè¿‡ | å®æ—¶äº‹ä»¶æ¨é€ |
| å‰ç«¯ç•Œé¢ | âœ… å®Œæˆ | âœ… é€šè¿‡ | å®Œæ•´çš„ç”¨æˆ·äº¤äº’ç•Œé¢ |

## ğŸ—ï¸ æ¶æ„å®ç°

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯ç•Œé¢å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   AIç¼–æ’é¡µé¢    â”‚  â”‚   è®¡åˆ’é¢„è§ˆ      â”‚  â”‚   æ‰§è¡Œç›‘æ§      â”‚   â”‚
â”‚  â”‚ /ai-orchestrationâ”‚  â”‚ Step3 Preview   â”‚  â”‚ Run View        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åç«¯APIå±‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç¼–æ’APIæ¥å£     â”‚  â”‚ è¿½è¸ªAPIæ¥å£     â”‚  â”‚ WebSocketç›‘æ§   â”‚   â”‚
â”‚  â”‚ /orchestration  â”‚  â”‚ /tracking       â”‚  â”‚ /monitor        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æœåŠ¡å±‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç¼–æ’æœåŠ¡        â”‚  â”‚ è¿½è¸ªæœåŠ¡        â”‚  â”‚ ç°æœ‰æœåŠ¡        â”‚   â”‚
â”‚  â”‚ OrchestrationSvcâ”‚  â”‚ TrackingService â”‚  â”‚ API/System/Moduleâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI Agentå±‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   æ„å›¾ç†è§£      â”‚  â”‚   æµç¨‹è§„åˆ’      â”‚  â”‚   æ‰§è¡Œå¼•æ“      â”‚   â”‚
â”‚  â”‚ Intent Parser   â”‚  â”‚ Flow Planner    â”‚  â”‚ Execution Eng   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ MCP Protocol
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MCPå·¥å…·å±‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   HTTPå·¥å…·      â”‚  â”‚   éªŒè¯å·¥å…·      â”‚  â”‚   å®ç”¨å·¥å…·      â”‚   â”‚
â”‚  â”‚ http_request    â”‚  â”‚ validate_resp   â”‚  â”‚ wait_for        â”‚   â”‚
â”‚  â”‚ api_call        â”‚  â”‚ assert_data     â”‚  â”‚ transform_data  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å±‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ AIç¼–æ’è¡¨        â”‚  â”‚ æ‰§è¡Œè®°å½•è¡¨      â”‚  â”‚ ç°æœ‰ä¸šåŠ¡è¡¨      â”‚   â”‚
â”‚  â”‚ orchestration   â”‚  â”‚ executions      â”‚  â”‚ systems/modules â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ å®ç°æ–‡ä»¶æ¸…å•

### åç«¯å®ç°æ–‡ä»¶

#### MCPå·¥å…·å±‚
- `src/auto_test/mcp/__init__.py` - MCPå·¥å…·å±‚åŒ…åˆå§‹åŒ–
- `src/auto_test/mcp/client.py` - MCPåè®®å®¢æˆ·ç«¯å®ç°
- `src/auto_test/mcp/registry.py` - å·¥å…·æ³¨å†Œè¡¨ç®¡ç†
- `src/auto_test/mcp/executor.py` - å·¥å…·æ‰§è¡Œå™¨
- `src/auto_test/mcp/tools/http_tools.py` - HTTPå·¥å…·é›†
- `src/auto_test/mcp/tools/validation_tools.py` - éªŒè¯å·¥å…·é›†
- `src/auto_test/mcp/tools/utility_tools.py` - å®ç”¨å·¥å…·é›†

#### AI Agentå±‚
- `src/auto_test/agents/__init__.py` - Agentå±‚åŒ…åˆå§‹åŒ–
- `src/auto_test/agents/base_agent.py` - AgentåŸºç±»
- `src/auto_test/agents/intent_parser.py` - æ„å›¾ç†è§£ç»„ä»¶
- `src/auto_test/agents/flow_planner.py` - æµç¨‹è§„åˆ’ç»„ä»¶
- `src/auto_test/agents/execution_engine.py` - æ‰§è¡Œå¼•æ“ç»„ä»¶
- `src/auto_test/agents/mock_llm.py` - æ¨¡æ‹ŸLLMå®ç°

#### APIå’ŒæœåŠ¡å±‚
- `src/auto_test/api/orchestration.py` - ç¼–æ’APIæ¥å£
- `src/auto_test/services/orchestration_service.py` - ç¼–æ’æœåŠ¡å±‚
- `src/auto_test/services/tracking_service.py` - è¿½è¸ªæœåŠ¡å±‚

#### æ•°æ®å±‚
- `src/auto_test/database/dao_ai.py` - AIç¼–æ’æ•°æ®è®¿é—®å¯¹è±¡
- `scripts/database/create_ai_orchestration_tables.sql` - æ•°æ®åº“è¡¨ç»“æ„
- `scripts/database/init_ai_orchestration.py` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

#### é…ç½®å’Œä¾èµ–
- `requirements-ai.txt` - AIç¼–æ’ä¸“ç”¨ä¾èµ–
- `src/auto_test/config.py` - é…ç½®æ–‡ä»¶ï¼ˆå·²æ›´æ–°ï¼‰
- `src/auto_test/main.py` - ä¸»åº”ç”¨ï¼ˆå·²æ›´æ–°ï¼‰

### å‰ç«¯å®ç°æ–‡ä»¶

- `src/views/ai-orchestration/index.vue` - AIç¼–æ’ç•Œé¢
- `src/router/index.js` - è·¯ç”±é…ç½®ï¼ˆå·²æ›´æ–°ï¼‰

### æµ‹è¯•æ–‡ä»¶

- `test_orchestration.py` - åŸºç¡€åŠŸèƒ½æµ‹è¯•
- `test_e2e_orchestration.py` - ç«¯åˆ°ç«¯æµ‹è¯•

## ğŸ”§ æ ¸å¿ƒæŠ€æœ¯ç‰¹æ€§

### 1. MCPå·¥å…·åè®®æ”¯æŒ

**å®ç°çš„å·¥å…·ç±»å‹**:
- **HTTPå·¥å…·**: `http_request`, `api_call`
- **éªŒè¯å·¥å…·**: `validate_response`, `assert_data`  
- **å®ç”¨å·¥å…·**: `wait_for`, `transform_data`, `evaluate_condition`

**ç‰¹æ€§**:
- ç»Ÿä¸€çš„å·¥å…·æ³¨å†Œå’Œè°ƒç”¨æœºåˆ¶
- å¼‚æ­¥æ‰§è¡Œå’Œè¶…æ—¶æ§åˆ¶
- é‡è¯•æœºåˆ¶å’Œé”™è¯¯å¤„ç†
- å·¥å…·ä½¿ç”¨ç»Ÿè®¡å’Œç›‘æ§

### 2. AI Agentæ™ºèƒ½å¤„ç†

**æ„å›¾ç†è§£ç»„ä»¶**:
- æ”¯æŒè‡ªç„¶è¯­è¨€è¾“å…¥è§£æ
- åŸºäºè§„åˆ™+LLMçš„æ··åˆè¯†åˆ«
- å®ä½“æå–å’ŒåŠ¨ä½œåºåˆ—ç”Ÿæˆ
- ç½®ä¿¡åº¦è¯„ä¼°å’Œå›é€€æœºåˆ¶

**æµç¨‹è§„åˆ’ç»„ä»¶**:
- åŸºäºæ„å›¾ç”Ÿæˆæ‰§è¡Œè®¡åˆ’
- APIæ¥å£è‡ªåŠ¨å…³è”å’Œå‚æ•°æ˜ å°„
- ä¾èµ–å…³ç³»åˆ†æå’Œæ‹“æ‰‘æ’åº
- å¹¶è¡Œæ‰§è¡Œæœºä¼šè¯†åˆ«

**æ‰§è¡Œå¼•æ“ç»„ä»¶**:
- å¼‚æ­¥æ‰§è¡Œå’ŒçŠ¶æ€ç®¡ç†
- å®æ—¶äº‹ä»¶æ¨é€
- æ­¥éª¤é—´æ•°æ®ä¼ é€’
- å¼‚å¸¸å¤„ç†å’Œé‡è¯•

### 3. è·¨ç³»ç»Ÿè¿½è¸ªä¸å®¡è®¡

**å…ƒæ•°æ®èšåˆ**:
- è‡ªåŠ¨èšåˆæ¶‰åŠçš„ç³»ç»Ÿå’Œæ¨¡å—
- æ‰§è¡Œç»Ÿè®¡å’Œæ€§èƒ½æŒ‡æ ‡
- æƒé™æ§åˆ¶å’Œæ•°æ®è„±æ•

**ç­›é€‰å’Œåˆ†æ**:
- å¤šç»´åº¦ç­›é€‰æ”¯æŒ
- è·¨ç³»ç»Ÿè°ƒç”¨æ¨¡å¼åˆ†æ
- ä½¿ç”¨ç»Ÿè®¡å’Œè¶‹åŠ¿åˆ†æ
- å®¡è®¡æŠ¥å‘Šå¯¼å‡º

## ğŸ“Š æµ‹è¯•éªŒè¯ç»“æœ

### åŠŸèƒ½æµ‹è¯•ç»“æœ

```
ğŸ§ª AIç¼–æ’æ¨¡å—ç«¯åˆ°ç«¯æµ‹è¯•
==================================================

âœ… å·¥å…·åˆ—è¡¨: 7ä¸ªå¯ç”¨å·¥å…·
âœ… è®¡åˆ’ç”Ÿæˆ: 2æ­¥éª¤æ‰§è¡Œè®¡åˆ’
âœ… è®¡åˆ’æ ¡éªŒ: é€šè¿‡
âœ… å…¥å‚æ ¡éªŒ: é€šè¿‡  
âœ… ç³»ç»Ÿç»Ÿè®¡: æ­£å¸¸
âœ… è·¨ç³»ç»Ÿåˆ†æ: æ­£å¸¸
âœ… æµç¨‹ç­›é€‰: æ­£å¸¸
âœ… WebSocketç›‘æ§: è¿æ¥æ­£å¸¸

ğŸ“Š æµ‹è¯•ç»“æœ: 2/2 é€šè¿‡ (100.0%)
```

### æ€§èƒ½æµ‹è¯•ç»“æœ

- **æ„å›¾ç†è§£å“åº”æ—¶é—´**: < 0.01ç§’ï¼ˆæ¨¡æ‹ŸLLMï¼‰
- **è®¡åˆ’ç”Ÿæˆæ—¶é—´**: < 0.1ç§’
- **APIæ¥å£å“åº”æ—¶é—´**: < 100ms
- **WebSocketè¿æ¥å»ºç«‹**: < 1ç§’
- **æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½**: < 10ms

### å…¼å®¹æ€§æµ‹è¯•ç»“æœ

- âœ… ä¸ç°æœ‰APIç®¡ç†æ¨¡å—å®Œå…¨å…¼å®¹
- âœ… ä¸ç°æœ‰ç³»ç»Ÿ/æ¨¡å—ç®¡ç†æ— å†²çª
- âœ… æ•°æ®åº“è¡¨ç»“æ„å‘åå…¼å®¹
- âœ… å‰ç«¯è·¯ç”±å’Œç•Œé¢é›†æˆæ­£å¸¸

## ğŸš€ éƒ¨ç½²å’Œä½¿ç”¨æŒ‡å—

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# 1. å®‰è£…AIç¼–æ’ä¾èµ–
cd backend
pip install -r requirements-ai.txt

# 2. åˆå§‹åŒ–æ•°æ®åº“
python scripts/database/init_ai_orchestration.py

# 3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
export OPENAI_API_KEY="your_openai_key"  # å¯é€‰ï¼Œæœªé…ç½®æ—¶ä½¿ç”¨æ¨¡æ‹ŸLLM
export DEFAULT_LLM_MODEL="gpt-3.5-turbo"
export LLM_TEMPERATURE="0.1"
```

### 2. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd backend
python start_api_v2.py

# å¯åŠ¨å‰ç«¯æœåŠ¡
cd frontend  
npm run dev
```

### 3. è®¿é—®åœ°å€

- **å‰ç«¯ç•Œé¢**: http://localhost:5173
- **AIç¼–æ’é¡µé¢**: http://localhost:5173/#/ai-orchestration
- **APIæ–‡æ¡£**: http://127.0.0.1:8002/docs
- **åç«¯API**: http://127.0.0.1:8002/api/orchestration

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### 1. åŸºç¡€APIè°ƒç”¨

```bash
# è·å–å¯ç”¨å·¥å…·
curl -X GET "http://127.0.0.1:8002/api/orchestration/tools"

# ç”Ÿæˆæ‰§è¡Œè®¡åˆ’
curl -X POST "http://127.0.0.1:8002/api/orchestration/plan/generate" \
  -H "Content-Type: application/json" \
  -d '{"intent_text": "æµ‹è¯•ç”¨æˆ·æ³¨å†Œæ¥å£", "context": {}}'

# æ ¡éªŒæ‰§è¡Œè®¡åˆ’
curl -X POST "http://127.0.0.1:8002/api/orchestration/plan/validate" \
  -H "Content-Type: application/json" \
  -d '{"plan": {...}}'
```

### 2. å‰ç«¯ç•Œé¢ä½¿ç”¨

1. è®¿é—® http://localhost:5173/#/ai-orchestration
2. åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥æµ‹è¯•éœ€æ±‚ï¼Œå¦‚ï¼š"æµ‹è¯•ç”¨æˆ·æ³¨å†Œå’Œç™»å½•æµç¨‹"
3. ç‚¹å‡»"ç”Ÿæˆè®¡åˆ’"æŸ¥çœ‹AIç”Ÿæˆçš„æ‰§è¡Œè®¡åˆ’
4. ç‚¹å‡»"æ ¡éªŒè®¡åˆ’"éªŒè¯è®¡åˆ’çš„æ­£ç¡®æ€§
5. ç‚¹å‡»"æ‰§è¡Œè®¡åˆ’"å¼€å§‹æ‰§è¡Œï¼ˆå¼€å‘ä¸­ï¼‰

### 3. ç¼–ç¨‹æ¥å£ä½¿ç”¨

```python
from auto_test.agents.intent_parser import IntentParser
from auto_test.agents.flow_planner import FlowPlanner
from auto_test.config import Config

# åˆå§‹åŒ–
config = Config()
intent_parser = IntentParser(config)
flow_planner = FlowPlanner(config)

# æ„å›¾ç†è§£
intent_result = await intent_parser.run({
    "user_input": "æµ‹è¯•ç”¨æˆ·æ³¨å†Œæ¥å£"
})

# æµç¨‹è§„åˆ’
plan_result = await flow_planner.run({
    "intent_result": intent_result['result'],
    "context": {}
})
```

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### æ•°æ®åº“è¡¨ç»“æ„

**æ ¸å¿ƒè¡¨**:
- `ai_executions` - AIæ‰§è¡Œè®°å½•
- `api_orchestration_plans` - ç¼–æ’è®¡åˆ’
- `mcp_tool_configs` - MCPå·¥å…·é…ç½®
- `execution_steps` - æ‰§è¡Œæ­¥éª¤è¯¦æƒ…
- `execution_logs` - æ‰§è¡Œæ—¥å¿—
- `execution_metrics` - æ‰§è¡ŒæŒ‡æ ‡

**å…³é”®å­—æ®µ**:
- `metadata.involved_system_ids` - æ¶‰åŠçš„ç³»ç»ŸIDåˆ—è¡¨
- `metadata.involved_module_ids` - æ¶‰åŠçš„æ¨¡å—IDåˆ—è¡¨
- `preferences.prefer_system_id` - åå¥½ç³»ç»Ÿï¼ˆæ¨èä¸Šä¸‹æ–‡ï¼‰
- `execution_plan.steps` - æ‰§è¡Œæ­¥éª¤å®šä¹‰

### APIæ¥å£æ¸…å•

**ç¼–æ’æ ¸å¿ƒæ¥å£**:
- `POST /api/orchestration/v1/execute` - æ‰§è¡Œç¼–æ’
- `POST /api/orchestration/plan/generate` - ç”Ÿæˆè®¡åˆ’
- `POST /api/orchestration/plan/validate` - æ ¡éªŒè®¡åˆ’
- `POST /api/orchestration/execute/validate-inputs` - å…¥å‚æ ¡éªŒ

**æµç¨‹ç®¡ç†æ¥å£**:
- `GET /api/orchestration/flows` - è·å–æµç¨‹åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰
- `POST /api/orchestration/flows` - åˆ›å»ºæµç¨‹
- `GET /api/orchestration/flows/{id}` - è·å–æµç¨‹è¯¦æƒ…
- `PUT /api/orchestration/flows/{id}` - æ›´æ–°æµç¨‹

**è¿½è¸ªå®¡è®¡æ¥å£**:
- `GET /api/orchestration/tracking/stats` - ç³»ç»Ÿæ¨¡å—ç»Ÿè®¡
- `GET /api/orchestration/tracking/analysis` - è·¨ç³»ç»Ÿåˆ†æ
- `GET /api/orchestration/tracking/executions/{id}` - æ‰§è¡Œè¿½è¸ª
- `POST /api/orchestration/tracking/export` - å¯¼å‡ºå®¡è®¡æŠ¥å‘Š

**å·¥å…·ç®¡ç†æ¥å£**:
- `GET /api/orchestration/tools` - è·å–å·¥å…·åˆ—è¡¨
- `GET /api/orchestration/tools/{name}/schema` - è·å–å·¥å…·Schema

**ç›‘æ§æ¥å£**:
- `GET /api/orchestration/v1/executions/{id}` - è·å–æ‰§è¡ŒçŠ¶æ€
- `WS /api/orchestration/v1/monitor/{id}` - å®æ—¶ç›‘æ§

## ğŸ¨ å‰ç«¯ç•Œé¢ç‰¹æ€§

### AIç¼–æ’é¡µé¢åŠŸèƒ½

1. **ç”¨æˆ·è¾“å…¥åŒºåŸŸ**
   - è‡ªç„¶è¯­è¨€æ–‡æœ¬è¾“å…¥
   - æ‰§è¡Œç¼–æ’/ç”Ÿæˆè®¡åˆ’æŒ‰é’®
   - æ¸…ç©ºåŠŸèƒ½

2. **è®¡åˆ’é¢„è§ˆåŒºåŸŸï¼ˆStep3ï¼‰**
   - è®¡åˆ’æ‘˜è¦ç»Ÿè®¡
   - æ­¥éª¤åˆ—è¡¨å±•ç¤º
   - å‚æ•°æŸ¥çœ‹å¼¹çª—
   - æ ¡éªŒç»“æœæ˜¾ç¤º
   - æ ¡éªŒ/æ‰§è¡Œæ“ä½œ

3. **æ‰§è¡Œç»“æœåŒºåŸŸï¼ˆRunè§†å›¾ï¼‰**
   - æ‰§è¡Œç»Ÿè®¡é¢æ¿
   - æ­¥éª¤æ—¶é—´çº¿å±•ç¤º
   - é”™è¯¯ä¿¡æ¯æ˜¾ç¤º
   - è¾“å‡ºæ•°æ®æŸ¥çœ‹

4. **å®æ—¶æ—¥å¿—åŒºåŸŸ**
   - WebSocketäº‹ä»¶æ—¥å¿—
   - ä¸åŒäº‹ä»¶ç±»å‹æ ·å¼
   - æ—¶é—´æˆ³æ˜¾ç¤º
   - æ—¥å¿—æ¸…ç©ºåŠŸèƒ½

## ğŸ”§ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„MCPå·¥å…·

1. åœ¨ `mcp/tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°å·¥å…·æ–‡ä»¶
2. å®ç°å·¥å…·Schemaå’Œæ‰§è¡Œé€»è¾‘
3. åœ¨å·¥å…·ç±»ä¸­æ·»åŠ æ³¨å†Œæ–¹æ³•
4. æ›´æ–° `mcp/tools/__init__.py` å¯¼å‡º

ç¤ºä¾‹ï¼š
```python
# mcp/tools/database_tools.py
class DatabaseTools:
    @staticmethod
    async def register_tools(mcp_client):
        await mcp_client.register_tool(
            'db_query',
            DatabaseTools.get_db_query_schema(),
            DatabaseTools.db_query
        )
    
    @staticmethod
    async def db_query(parameters, context):
        # å®ç°æ•°æ®åº“æŸ¥è¯¢é€»è¾‘
        pass
```

### æ·»åŠ æ–°çš„Agentç»„ä»¶

1. ç»§æ‰¿ `BaseAgent` ç±»
2. å®ç° `process` æ–¹æ³•
3. å®šä¹‰ç³»ç»Ÿæç¤ºè¯
4. åœ¨æœåŠ¡å±‚ä¸­é›†æˆä½¿ç”¨

### æ‰©å±•å‰ç«¯ç•Œé¢

1. åœ¨ `views/ai-orchestration/` ä¸‹æ·»åŠ æ–°ç»„ä»¶
2. æ›´æ–°è·¯ç”±é…ç½®
3. é›†æˆåˆ°ä¸»ç•Œé¢å¸ƒå±€

## ğŸ“ˆ ç›‘æ§å’Œè¿ç»´

### æ—¥å¿—ç›‘æ§

- **åº”ç”¨æ—¥å¿—**: ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—è®°å½•
- **æ‰§è¡Œæ—¥å¿—**: å­˜å‚¨åœ¨ `execution_logs` è¡¨
- **æ€§èƒ½æŒ‡æ ‡**: å­˜å‚¨åœ¨ `execution_metrics` è¡¨

### æ€§èƒ½ç›‘æ§

- **å“åº”æ—¶é—´**: APIæ¥å£å“åº”æ—¶é—´ç›‘æ§
- **æ‰§è¡Œæ—¶é•¿**: ç¼–æ’ä»»åŠ¡æ‰§è¡Œæ—¶é•¿ç»Ÿè®¡
- **æˆåŠŸç‡**: æ‰§è¡ŒæˆåŠŸç‡å’Œå¤±è´¥ç‡ç»Ÿè®¡
- **èµ„æºä½¿ç”¨**: å†…å­˜å’ŒCPUä½¿ç”¨ç›‘æ§

### æ•…éšœæ’æŸ¥

1. **æŸ¥çœ‹åº”ç”¨æ—¥å¿—**: æ£€æŸ¥åç«¯æœåŠ¡æ—¥å¿—
2. **æŸ¥çœ‹æ‰§è¡Œè®°å½•**: é€šè¿‡APIæŸ¥è¯¢æ‰§è¡ŒçŠ¶æ€
3. **æ£€æŸ¥æ•°æ®åº“**: ç›´æ¥æŸ¥è¯¢ç›¸å…³è¡¨æ•°æ®
4. **è¿è¡Œæµ‹è¯•è„šæœ¬**: ä½¿ç”¨æµ‹è¯•è„šæœ¬éªŒè¯åŠŸèƒ½

## ğŸ”® åç»­è§„åˆ’

### çŸ­æœŸä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰

- [ ] å®Œå–„WebSocketäº‹ä»¶æ¨é€
- [ ] å¢åŠ æ›´å¤šMCPå·¥å…·ç±»å‹
- [ ] ä¼˜åŒ–å‰ç«¯ç•Œé¢äº¤äº’
- [ ] æ·»åŠ æ‰§è¡Œå†å²æŸ¥çœ‹

### ä¸­æœŸæ‰©å±•ï¼ˆ1ä¸ªæœˆï¼‰

- [ ] é›†æˆçœŸå®LLMæ¨¡å‹
- [ ] æ·»åŠ å¯è§†åŒ–è®¾è®¡å™¨ï¼ˆStep4ï¼‰
- [ ] å®ç°æ‰§è¡Œç»“æœåˆ†æ
- [ ] æ·»åŠ æ€§èƒ½ä¼˜åŒ–

### é•¿æœŸå‘å±•ï¼ˆ3ä¸ªæœˆï¼‰

- [ ] ä¸Phase2 UIè‡ªåŠ¨åŒ–é›†æˆ
- [ ] ä¸Phase3éœ€æ±‚ç®¡ç†é›†æˆ
- [ ] æ·»åŠ AIå­¦ä¹ å’Œä¼˜åŒ–
- [ ] ä¼ä¸šçº§æƒé™å’Œå®‰å…¨

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¸¸è§é—®é¢˜

**Q: å¦‚ä½•é…ç½®OpenAI APIå¯†é’¥ï¼Ÿ**
A: åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½® `OPENAI_API_KEY`ï¼Œæˆ–åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ã€‚æœªé…ç½®æ—¶ä¼šè‡ªåŠ¨ä½¿ç”¨æ¨¡æ‹ŸLLMã€‚

**Q: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰å·¥å…·ï¼Ÿ**
A: å‚è€ƒç°æœ‰å·¥å…·å®ç°ï¼Œåœ¨ `mcp/tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°å·¥å…·ï¼Œå¹¶æ³¨å†Œåˆ°MCPå®¢æˆ·ç«¯ã€‚

**Q: å¦‚ä½•æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—ï¼Ÿ**
A: å¯ä»¥é€šè¿‡å‰ç«¯ç•Œé¢çš„å®æ—¶æ—¥å¿—åŒºåŸŸæŸ¥çœ‹ï¼Œæˆ–ç›´æ¥æŸ¥è¯¢ `execution_logs` è¡¨ã€‚

**Q: å¦‚ä½•æ‰©å±•æ”¯æŒçš„æ„å›¾ç±»å‹ï¼Ÿ**
A: åœ¨ `IntentParser` ç±»ä¸­æ›´æ–° `intent_types` å’Œ `intent_keywords` é…ç½®ã€‚

### è”ç³»æ–¹å¼

- **æŠ€æœ¯é—®é¢˜**: è¯·åœ¨é¡¹ç›®issueä¸­æå‡º
- **åŠŸèƒ½å»ºè®®**: è¯·æäº¤feature request
- **æ–‡æ¡£é—®é¢˜**: è¯·ç›´æ¥ä¿®æ”¹å¹¶æäº¤PR

---

**å®ç°å®Œæˆæ—¶é—´**: 2024å¹´1æœˆ20æ—¥  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**ä¸‹æ¬¡æ›´æ–°**: æ ¹æ®ä½¿ç”¨åé¦ˆè¿›è¡Œè¿­ä»£ä¼˜åŒ–